package see;

import java.io.*;
import java.net.*;
import java.util.Scanner;

public class TCPclient {
	private static InetAddress host;
	 private static int PORT = 1234;
	 public static void main(String[] args) {
	 try {
	 System.out.println("Connecting...\n");
	 host = InetAddress.getLocalHost();
	 } catch (UnknownHostException e) {
	 e.printStackTrace();
	 System.exit(1);
	 }
	 accessServer();
	 }
	 public static void accessServer(){
	 Socket link = null;
	 try {
	 link = new Socket(host.getHostName(),PORT);
	 Scanner s = new Scanner(link.getInputStream());
	 Scanner ip = new Scanner(System.in);
	 PrintWriter pw = new PrintWriter(link.getOutputStream());
	 String msg,response;
	 do{
	 msg = ip.nextLine();
	 pw.println(msg);
	 response = s.nextLine();
	 System.out.println("\nSERVER>"+response);
	 }while (!msg.equals("Close"));
	 } catch (IOException e) {
	 e.printStackTrace();
	 }
	 finally {
	 try {
	 System.out.println("Closing connection...\n");
	 link.close();
	 System.exit(1);
	 } catch (IOException e) {
	 e.printStackTrace();
	 System.exit(1);
	 }
	 }
	 }
}
