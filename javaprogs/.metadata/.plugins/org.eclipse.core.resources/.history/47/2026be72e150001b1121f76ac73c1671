package see;

import java.io.*;
import java.net.*;
import java.util.Scanner;

public class TCPclient {
	private static ServerSocket ds;
	private static int port=1234;
	private static InetAddress host;
	public static void main(String[] args) throws IOException,UnknownHostException{
		ds=new ServerSocket();
		host = InetAddress.getLocalHost();
		accessserver();
	}
	public static void accessserver() {
		Socket link=null;
		try {
			link = new Socket(host.getHostName(),port);
			Scanner in=new Scanner(System.in);
			Scanner s=new Scanner(link.getInputStream());
			PrintWriter pw = new PrintWriter(link.getOutputStream());
			String msg,response;
			msg=s.next();
			do{
				System.out.println("Enter the message:");
				msg = in.next();
				pw.println(msg);
				response = s.next();
				System.out.println("\nSERVER>"+response);
			}while (!msg.equals("Close"));
		}
		catch(IOException e) {
			e.printStackTrace();
		}
		finally {
			try {
				link.close();
				System.out.println("Closing connection...");
				System.exit(1);
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
	}
}
